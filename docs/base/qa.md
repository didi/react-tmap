---
nav:
  title: 文档
  path: /components
---

# 常见问题

## 修改地图 center、zoom 属性不生效？

- 在组件初始化时修改 state 中的 center 等值时会出现，原因是修改 center 值时地图实例还未加载完成，可在 TMap 组件的 onLoad 事件触发后修改 state 避免这类问题。

- 修改 zoom 值时地图会有默认 500 毫秒延迟动画，在这期间地图有其他渲染逻辑有可能阻塞地图渲染，可通过设置 duration 或延迟渲染其他数据解决

- 检查设置的 zoom 等值是否有其他代码逻辑修改或是受控数据

## 控制台提示腾讯地图 js sdk 文件报错修改了不可变数据如 lat、lng 之类错误？

- 不能直接把地图事件的回调参数数据中值直接保存到数据流 state 中，必须经过深拷贝后才能保存使用

## 组件重复渲染？

- 组件会响应自身 props 的变化而重新渲染，请注意传递给组件的 props 的引用地址的不可变性，如 函数类 props 可使用 useCallback 优化
